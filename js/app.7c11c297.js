(function(){"use strict";var t={8009:function(t,e,o){var a=o(9963),r=o(6252);function n(t,e,o,a,n,i){const s=(0,r.up)("Header"),c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(s),(0,r.Wm)(c)],64)}var i=o.p+"img/logo.a5a5fad6.svg",s=o.p+"img/search.1feb3628.svg",c=o.p+"img/favorites.c6956d56.svg";const l={class:"header"},u={class:"header-wrapper"},d={class:"header-logo"},h=(0,r._)("img",{src:i,alt:"logo"},null,-1),p={class:"header-menu"},m={key:0,class:"header-search"},v=(0,r._)("img",{src:s,style:{width:"23px",height:"23px"},alt:"search"},null,-1),f=(0,r._)("p",null,"Поиск",-1),g={class:"header-favorites"},_=(0,r._)("img",{src:c,style:{width:"23px",height:"23px"},alt:"favorites"},null,-1),w=(0,r._)("p",null,"Избранное",-1);function x(t,e,o,a,n,i){const s=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",u,[(0,r._)("div",d,[(0,r.Wm)(s,{to:"/"},{default:(0,r.w5)((()=>[h])),_:1})]),(0,r._)("div",p,[i.showSearch?((0,r.wg)(),(0,r.iD)("div",m,[(0,r.Wm)(s,{to:"/"},{default:(0,r.w5)((()=>[v])),_:1}),(0,r.Wm)(s,{to:"/"},{default:(0,r.w5)((()=>[f])),_:1})])):(0,r.kq)("",!0),(0,r._)("div",g,[(0,r.Wm)(s,{to:"/favorites"},{default:(0,r.w5)((()=>[_])),_:1}),(0,r.Wm)(s,{to:"/favorites"},{default:(0,r.w5)((()=>[w])),_:1})])])])])}var F={name:"headerComponent",computed:{showSearch(){return"/"!==this.$route.path}}},D=o(3744);const b=(0,D.Z)(F,[["render",x]]);var y=b,k={name:"App",components:{Header:y}};const P=(0,D.Z)(k,[["render",n]]);var T=P,C=o(2201);function I(t,e,o,a,n,i){const s=(0,r.up)("Search"),c=(0,r.up)("MainContent");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(s,{onUpdateFilter:i.updateFilter},null,8,["onUpdateFilter"]),(0,r.Wm)(c,{filterText:n.filterText},null,8,["filterText"])])}var j=o.p+"img/search-black.f8038178.svg";const O={class:"search"},S={class:"search-wrapper"},W=(0,r._)("img",{src:j,alt:"search"},null,-1);function Z(t,e,o,n,i,s){return(0,r.wg)(),(0,r.iD)("div",O,[(0,r._)("div",S,[(0,r.wy)((0,r._)("input",{type:"text",placeholder:"Поиск","onUpdate:modelValue":e[0]||(e[0]=t=>i.searchText=t),onInput:e[1]||(e[1]=(...t)=>s.updateFilter&&s.updateFilter(...t))},null,544),[[a.nr,i.searchText]]),W])])}var $={name:"searchComponent",data(){return{searchText:""}},methods:{updateFilter(){this.$emit("update-filter",this.searchText)}}};const H=(0,D.Z)($,[["render",Z]]);var Y=H;const M={class:"mainContent"},q={class:"mainContent-wrapper"},z={class:"image-container__inner"},L=["src","alt"];function R(t,e,o,a,n,i){const s=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",M,[(0,r._)("div",q,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.randomImages,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.id,class:"image-container"},[(0,r._)("div",z,[(0,r.Wm)(s,{to:{name:"photoPage",params:{id:t?.id}}},{default:(0,r.w5)((()=>[(0,r._)("img",{src:t.urls.regular,alt:t?.description},null,8,L)])),_:2},1032,["to"])])])))),128))])])}var U=o(3279),E=o.n(U),G={name:"mainContent",props:{filterText:String},data(){return{randomImages:[]}},watch:{filterText:{handler:"RandomImagesDebounced",immediate:!0}},methods:{async fetchRandomImages(){try{const t=await fetch(`https://api.unsplash.com/photos/random/?count=8&client_id=IjwLrN04z7hqo9HxnFDYh183gM3GYSbjdFtf0SLd-pk&query=${this.filterText}`);if(404===t.status)return void alert("Изображения не найдены");const e=await t.json();this.randomImages=e}catch(t){console.error("Картинки не подгрузились",t)}},RandomImagesDebounced:E()((function(){this.fetchRandomImages()}),500)}};const K=(0,D.Z)(G,[["render",R]]);var N=K,A={name:"homePage",components:{Search:Y,MainContent:N},data(){return{filterText:""}},methods:{updateFilter(t){this.filterText=t}}};const V=(0,D.Z)(A,[["render",I]]);var B=V,J=o.p+"img/favorites_white.606ca102.svg";const Q={class:"favorites"},X={class:"favorites-wrapper"},tt=(0,r._)("div",{class:"favorites-title"},"Избранное",-1),et=["onClick"],ot={class:"image-container__inner"},at=["src"];function rt(t,e,o,a,n,i){return(0,r.wg)(),(0,r.iD)("div",Q,[(0,r._)("div",X,[tt,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.favorites,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.id,class:"image-container"},[(0,r._)("img",{onClick:e=>i.removeFromFavorites(t),class:"active-favorites",src:J,alt:"favorites"},null,8,et),(0,r._)("div",ot,[(0,r._)("img",{src:t.urls.regular,alt:"Favorite Photo"},null,8,at)])])))),128))])])}var nt={name:"favoritePage",computed:{favorites(){return this.$store.state?.favorites}},methods:{removeFromFavorites(t){this.$store.commit("removeFromFavorites",t)}}};const it=(0,D.Z)(nt,[["render",rt]]);var st=it,ct=o(3577),lt=o.p+"img/download.6c759fe4.svg";const ut={class:"photoPage"},dt=(0,r._)("div",{class:"photoPage-bcg"},null,-1),ht={class:"photoPage-wrapper"},pt={class:"photoPage-info__left"},mt=["src"],vt={class:"photoPage-descr"},ft={class:"photoPage-title"},gt={class:"photoPage-author"},_t={class:"photoPage-info__right"},wt=(0,r._)("img",{src:J,width:"49px",height:"49px"},null,-1),xt=[wt],Ft=(0,r._)("img",{src:lt,width:"26px",height:"26px"},null,-1),Dt=(0,r._)("span",null,"Downloand",-1),bt=[Ft,Dt],yt={class:"photoPage-image"},kt=["src"];function Pt(t,e,o,a,n,i){return(0,r.wg)(),(0,r.iD)("div",ut,[dt,(0,r._)("div",ht,[(0,r._)("div",pt,[(0,r._)("img",{src:n.photoData.user?.profile_image?.medium,width:"55px",height:"55px",class:"photoPage-avatar"},null,8,mt),(0,r._)("div",vt,[(0,r._)("div",ft,(0,ct.zw)(n.photoData.user?.name),1),(0,r._)("div",gt,"@"+(0,ct.zw)(n.photoData.user?.username),1)])]),(0,r._)("div",_t,[(0,r._)("button",{class:(0,ct.C_)(["favorite-btn",{"favorite-active":i.isFavorite}]),onClick:e[0]||(e[0]=(...t)=>i.toggleFavorite&&i.toggleFavorite(...t))},xt,2),(0,r._)("button",{class:"download-btn",onClick:e[1]||(e[1]=(...t)=>i.downloadImage&&i.downloadImage(...t))},bt)]),(0,r._)("div",yt,[(0,r._)("img",{src:n.photoData.urls?.regular,alt:"Image"},null,8,kt)])])])}var Tt=o(6154),Ct=o(3907),It={name:"photoPage",props:{id:String},data(){return{photoData:{}}},computed:{...(0,Ct.rn)(["favorites"]),isFavorite(){return this.favorites.some((t=>t.id===this.photoData.id))}},methods:{downloadImage(){const t=this.photoData.urls?.regular,e=document.createElement("a");e.href=t,e.download="downloaded_image.jpg",document.body.appendChild(e),e.click(),document.body.removeChild(e)},toggleFavorite(){this.isFavorite?this.$store.commit("removeFromFavorites",this.photoData):this.$store.commit("addToFavorites",this.photoData)}},created(){Tt.Z.get(`https://api.unsplash.com/photos/${this.id}?client_id=IjwLrN04z7hqo9HxnFDYh183gM3GYSbjdFtf0SLd-pk`).then((t=>{this.photoData=t.data,console.log(this.photoData)})).catch((t=>{console.error("Ошибка при загрузке данных",t)}))}};const jt=(0,D.Z)(It,[["render",Pt]]);var Ot=jt;const St=[{path:"/",component:B},{path:"/favorites",name:"favorites",component:st,props:!0},{path:"/photoPage/:id",name:"photoPage",component:Ot,props:!0}],Wt=(0,C.p7)({history:(0,C.PO)(),routes:St});var Zt=Wt,$t=(o(7658),o(4702));const Ht=(0,Ct.MT)({state(){return{favorites:[]}},mutations:{addToFavorites(t,e){t.favorites.push(e)},removeFromFavorites(t,e){const o=t.favorites.findIndex((t=>t.id===e.id));-1!==o&&t.favorites.splice(o,1)}},plugins:[(0,$t.Z)({key:"my-vuex-store",paths:["favorites"]})]});var Yt=Ht;const Mt=(0,a.ri)(T);Mt.use(Yt),Mt.use(Zt),Mt.mount("#app")}},e={};function o(a){var r=e[a];if(void 0!==r)return r.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,a,r,n){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],r=t[u][1],n=t[u][2];for(var s=!0,c=0;c<a.length;c++)(!1&n||i>=n)&&Object.keys(o.O).every((function(t){return o.O[t](a[c])}))?a.splice(c--,1):(s=!1,n<i&&(i=n));if(s){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[a,r,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/production-sub-path/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,n,i=a[0],s=a[1],c=a[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var u=c(o)}for(e&&e(a);l<i.length;l++)n=i[l],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(u)},a=self["webpackChunkfactory"]=self["webpackChunkfactory"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(8009)}));a=o.O(a)})();
//# sourceMappingURL=app.7c11c297.js.map